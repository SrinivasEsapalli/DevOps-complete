# Kubernetes:
 ## Container Orchestration:
  Is automatically scale up or scale down the containers based on the traffic..
 Kubernetes is container orchestration technology..



## Architecture:
 Node: is where k8's are installed..is a worker machine where containers are launched in k8's.

##Cluster: it's a group of nodes and multiple nodes will help to share the load.. 

## Master: is another node where k8's is installed and it is responsible for creating and managing the nodes. 

## Kubernetes componests and request flow within k8's digram is in notes

## contiainer runtime interface(CRI):  Before only k8's are working with dockers so by creating CRI by folollwing (open container initiatiative) any one can work with 

## Container :
 it's  a feature in docker to support Kubernetes container runtime interface(CRI) and then it got sepearated from docker andt's started working by it's own..with it's own CLI names CTR... or we can use nerctl

## POD:
 a pod is the smallest unit you can create in a Kubernetes.. object and it also a instance of the application.

## Multi-Container POD:
 We cannot create multi containers of same kind in a pod but we can create a helper container to help the main container.. like creating User or processing the file s etc..

## Commands:


### Kubectl apply -f pod_name -> to create a pod
### kubectl get pod --> to get the availale pods.
### kubectl apply -f service -> for service creation..
### kubectl get Service -> to get services..
### kubectl get pods -o wide -> to get the wider range pod details with the ip address..

### kubectl run nginx --image=nginx --> To create a pod from the command line by using the image..


Ex: Pod
apiVersion: v1
kind: Pod
metadata:
  name: demopod
  labels:
    version: 1.0.0
    Type: front-end-app
spec:
  containers:
    - name: democontainer
      image: nginx


### To login into pod

#### winpty kubectl exec -it nginx-deploy2-5f846df7fd-hzztf -- //bin//bash 
command to login into pod
-----now to change the index.html in nginx
-->  cd /usr/share/nginx/html to move to html directory

---> install api update -y
       api install vim
---->change index.html and save


  ### kubectl describe pod nginx - gives the list of details about the pod and container..

### kubectl  get nodes -o wide to get the all the information about the nodes..

### kubectl delete pod webapp 
To delete the pods...

### kubectl get node -o wide
To get the external Ip of the node...

### kubernetes manifest files:

Pod definition file or Manifest files
kubectl run redis --image=redis123 --dry-run -0 yaml
kubectl run=client redis --image=redis123 --dry-run -0 yaml
kubectl run=client redis --image=redis123 --dry-run -0 yaml > redis.yaml

kubectl apply -f redis.yaml

kubectl


## Kubernetes Controllers:
 ### Replication Controller:
      - This is the controller helps to call or start the controller when the main controller fails..
     - it will create multiple pods to share the load..

### Replica set 
is the new version..
it's with selectors and lables these will help to select or monitor teh particular labels out of group..

### kubectl create -f replicaset.yaml -> to create the file
### kubectl get replicaset
### kubectl delete replicaset file_name -> to delete replica set
### kubectl replace -f replicaset_filename 

 ### kubectl scale replicaset replicasetdemo.yaml --replicas=2
To scale them at commandline
### kubectl describe replicaset replicaset_name ...> to get all the details

### kubectl edit rs replica-set-name
- to open replica set file in edit mode

### Deployements:
 Deployments are same like replica set with additional features for pods like they can update delete create pods and same time they can pause for some time and resume the updates later..

kubectl get all to get all created by deployments like deployment name, pod and replicaset.

### Rollout: 

kubectl rollout status deployment_name -> to see the status of the rollout..

Kubectl rollout history deployment_name -> to check all the revisions

** it will create new version in new replica set..basically rollout is useful for getting back to older versions..

--> kubectl rollout undo deployment_filename.yaml => to rollback to older version 

--> kubectl set image deployment_name nginx=nginx:1.9.1 
we can update the image versions with this command


Recreate: In this strategy all the pods of the application will be terminated once and created again..

rolling update: 
  it is teh default deployment strategy..here one pod will be terminated alternatively other pod will be created..







  

